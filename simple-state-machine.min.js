function Simple_state_machine(a){var b,c=a.events,d=this;d.options=a;d.current=a.initial||"none";for(b in c)d[b]=function(a,b,c){var e=function(){if(!d.can(a))throw"Cannot '"+a+"()'";d.current=c};e.from=b;return e}(b," "+c[b].from+" ",c[b].to)}Simple_state_machine.prototype.can=function(a){return(a=this[a]&&this[a].from)?" * "===a||-1!==a.indexOf(" "+this.current+" "):!1};