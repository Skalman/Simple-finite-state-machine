function Simple_state_machine(a){function f(a,b,d){var e=function(){if(c.can(a))c.current=d;else throw"Cannot '"+a+"()'";};e.from=b;return e}var b,d=a.events,c=this;c.current=a.initial||"none";for(b in d)a=d[b],c[b]=f(b," "+a.from+" ",a.to)}Simple_state_machine.prototype.can=function(a){return(a=this[a]&&this[a].from)?" * "===a||-1!==a.indexOf(" "+this.current+" "):!1};