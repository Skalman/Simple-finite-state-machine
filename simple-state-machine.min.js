function Simple_state_machine(b){var a,c=b.events,d=this;d.options=b;d.current=b.initial||"none";for(a in c)d[a]=function(a,b,c){function e(){if(!e.can(a))throw"Cannot '"+a+"()'";d.current=c}e.can=function(){return" * "===b||-1!==b.indexOf(" "+d.current+" ")};return e}(a," "+c[a].from+" ",c[a].to)};