function Simple_state_machine(a){function c(a,b,c){var d=function(){if(e.can(a))e.current=c;else throw"Cannot '"+a+"()'";};d.from=b;return d}var b,d=a.events,e=this;e.current=a.initial||"none";for(b in d)a=d[b],e[b]=c(b," "+a.from+" ",a.to)}Simple_state_machine.prototype.can=function(a){var a=this[a]&&this[a].from,c=" "+this.current+" ";return a?" * "===a||-1!==a.indexOf(c):!1};