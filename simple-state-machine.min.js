function Simple_state_machine(a){function d(a,b,d){var c=function(){if(e.can(a))e.current=d;else throw"Cannot '"+a+"()'";};c.from=b;return c}var c,b,f,g,h=a.events,e=this;e.current=a.initial;for(a=0;a<h.length;a++){b=h[a];f=b.from;if("string"!==typeof f){g={};for(c=0;c<f.length;c++)g[f[c]]=!0;b.from=g}e[b.name]=d(b.name,b.from,b.to)}}Simple_state_machine.prototype.can=function(a){var a=this[a]&&this[a].from,d=this.current;return a===d||"*"===a||"object"===typeof a&&d in a};