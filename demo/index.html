<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="utf-8" />
		<title>Simple finite state machine demo (JavaScript)</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<h1>Simple finite state machine demo <small>(<a href="visualize.html">visualize</a>, <a href="../simple-state-machine.js">source</a>, <a href="../simple-state-machine.min.js">minified</a>, <a href="../README.md">readme</a>)</small></h1>
		<ap class="subtitle"></ap>

		<div id="demo-interact">
			<p>
				<button id="warn">fsm(<span class="s">"warn"</span>)</button>
				<button id="panic">fsm(<span class="s">"panic"</span>)</button>
				<button id="calm">fsm(<span class="s">"calm"</span>)</button>
				<button id="clear">fsm(<span class="s">"clear"</span>)</button>
				<button id="work">fsm(<span class="s">"work"</span>)</button>
			</p>
			<p><code>fsm.<span class="m">current</span> === <span class="s">"<span id="current"></span>"</span></code></p>

			<ul id="states">
				<li id="green">
					Green
					<ul>
						<li><label for="clear">fsm("clear")</label></li>
						<li><label for="warn">fsm("warn")</label></li>
						<li><label for="panic">fsm("panic")</label></li>
						<li><label for="work">fsm("work")</label></li>
					</ul>
				</li>
				<li id="yellow">
					Yellow
					<ul>
						<li><label for="clear">fsm("clear")</label></li>
						<li><label for="panic">fsm("panic")</label></li>
					</ul>
				</li>
				<li id="red">
					Red
					<ul>
						<li><label for="clear">fsm("clear")</label></li>
						<li><label for="calm">fsm("calm")</label></li>
					</ul>
				</li>
			</ul>
		</div>

<pre><code><span class="c">// <span class="k">Simple_state_machine</span>( [initial,] events )</span>
var fsm = <span class="k">Simple_state_machine</span>(<span class="s">"green"</span>, <span class="c">// initial is "none" if first parameter is omitted</span>
	{ <span class="c">// events</span>
		<span class="m">warn</span>:  { from: <span class="s">"green"</span>,        to: <span class="s">"yellow"</span> },
		<span class="m">panic</span>: { from: <span class="s">"green yellow"</span>, to: <span class="s">"red"</span>    }, <span class="c">// allow to be called from multiple states</span>
		<span class="m">calm</span>:  { from: <span class="s">"red"</span>,          to: <span class="s">"yellow"</span> },
		<span class="m">clear</span>: {                       to: <span class="s">"green"</span>  }, <span class="c">// if from state is absent, it can be called from all states</span>
		<span class="m">work</span>:  { from: <span class="s">"green"</span>                      } <span class="c">// if to state is absent, the state won't be changed when the event is called</span>
});</code></pre>

		<footer><ul>
			<li>By <a href="http://wlff.se/">Dan Wolff</a></li>
			<li>No license, this code is in the public domain. I do however appreciate attribution.</li>
		</ul></footer>

		<script src="../simple-state-machine.js"></script>
		<script src="index.js"></script>
	</body>
</html>